# -*- coding: utf-8 -*-
"""plot_utils.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1QH7EVk1_wibysPpBzGNwc2r5RUFNT8rQ
"""

import matplotlib.pyplot as plt
import pandas as pd

def plot_observed_vs_simulated_time_series(df_observed, df_simulated, station_name):
    """
    Plot observed vs simulated discharge in a time series for a given station.

    Parameters:
    - df_observed: DataFrame containing observed discharge data.
    - df_simulated: DataFrame containing simulated discharge data.
    - station_name: Name of the station (for plot title).

    Returns:
    - None
    """
    plt.figure(figsize=(15, 8))
    plt.plot(df_observed['datetime'], df_observed['USGS_Discharge'], label='Observed', color='blue')
    plt.plot(df_simulated['datetime'], df_simulated['Sim_Discharge'], label='Simulated', color='red')
    plt.xlabel('Time')
    plt.ylabel('Discharge (cubic meters)')
    plt.title(f'Observed vs Simulated Discharge for {station_name} Station')
    plt.legend()
    plt.grid(True)

    # Setting x-axis ticks to show each single year
    plt.xticks(pd.date_range(start=df_observed['datetime'].min(), end=df_observed['datetime'].max(), freq='YS'), rotation=45)

    plt.tight_layout()  # Adjusting layout to prevent clipping of labels
    plt.show()